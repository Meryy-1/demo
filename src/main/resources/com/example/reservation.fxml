<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<StackPane xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" 
           fx:controller="com.example.ReservationController" stylesheets="@styles.css" styleClass="root">
    
    <ScrollPane fitToWidth="true" fitToHeight="true" style="-fx-background: transparent; -fx-background-color: transparent;">
        <StackPane minHeight="480" minWidth="600">
            <VBox alignment="TOP_CENTER" spacing="25" styleClass="main-container" maxWidth="600" style="-fx-padding: 10px;">
                <!-- Header -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Button text="â† Back" onAction="#handleBack" styleClass="submit-btn" 
                            style="-fx-background-color: #6c757d;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <VBox alignment="CENTER_RIGHT">
                        <Label fx:id="clientNameLabel" text="Welcome, Client" styleClass="restaurant-title" 
                               style="-fx-font-size: 24px;"/>
                    </VBox>
                </HBox>
                
                <Separator styleClass="title-separator"/>
                
                <!-- Reservation Form -->
                <VBox alignment="CENTER" spacing="20" styleClass="selection-container">
                    <Label text="Make a Reservation" styleClass="selection-label"/>
                    
                    <VBox spacing="15" alignment="CENTER" style="-fx-padding: 20px;">
                        <!-- Party Size Input -->
                        <VBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="Party Size:" styleClass="field-label"/>
                            <TextField fx:id="partySizeField" promptText="Enter number of guests" 
                                       styleClass="text-input" prefWidth="300"/>
                        </VBox>
                        
                        <!-- Filter Button -->
                        <Button text="ðŸ” Find Available Tables" styleClass="submit-btn" 
                                onAction="#handleFindTables" prefWidth="300"/>
                        
                        <!-- Available Tables List -->
                        <VBox spacing="8" alignment="CENTER_LEFT" fx:id="tablesContainer" 
                              visible="false" managed="false">
                            <Label text="Available Tables:" styleClass="field-label"/>
                            <ListView fx:id="tablesListView" styleClass="list-view" 
                                      prefHeight="200" prefWidth="300"/>
                        </VBox>
                        
                        <!-- Book Button -->
                        <Button fx:id="bookButton" text="ðŸ“… Book Selected Table" 
                                styleClass="submit-btn" onAction="#handleBookTable" 
                                prefWidth="300" visible="false" managed="false"/>
                        
                        <!-- Current Reservation Info -->
                        <VBox fx:id="currentReservationBox" spacing="8" alignment="CENTER" 
                              visible="false" managed="false" 
                              style="-fx-background-color: #d4edda; -fx-padding: 15px; -fx-border-color: #28a745; -fx-border-width: 2px; -fx-border-radius: 5px; -fx-background-radius: 5px;">
                            <Label text="âœ“ Current Reservation" styleClass="field-label" 
                                   style="-fx-font-size: 18px; -fx-text-fill: #155724; -fx-font-weight: bold;"/>
                            <Label fx:id="currentReservationLabel" text="Table info" 
                                   style="-fx-text-fill: #155724; -fx-font-size: 14px;"/>
                            <Button text="Cancel Reservation" styleClass="submit-btn" 
                                    onAction="#handleCancelReservation" 
                                    style="-fx-background-color: #dc3545;" prefWidth="200"/>
                        </VBox>
                    </VBox>
                </VBox>
                
                <!-- Status Label -->
                <Label fx:id="statusLabel" text="" styleClass="status-label"/>
            </VBox>
        </StackPane>
    </ScrollPane>
    
</StackPane>
